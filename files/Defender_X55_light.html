<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Defender X55</title><link rel="stylesheet" href="style.css.gz"><style>.cont{margin-top:1em}.bor{border:#00000052 1px solid;border-radius:5px;padding:10px;margin-top:10px}.group label span{position:initial}</style></head><body><div class="cont"><div class="row"><div class="s12"><h2 class="center">Defender X55</h2></div><div class="s12 m6 l4 of-l1 bor"><div class="row"><div class="s12"><div class="group success"><input onchange="save(this.name,this.value)" type="radio" name="mute" value="1" id="mute_on"> <label for="mute_on">ON</label> <input onchange="save(this.name,this.value)" type="radio" name="mute" value="0" id="mute_off"> <label for="mute_off">OFF</label> <span>Mute</span></div></div></div><div class="row"><div class="s12 group"><input type="range" min="0" max="63" id="volume" onchange="save(this.id,this.value)" value="15"> <label>Volume: <span id="volumeSpan">0</span></label></div></div><div class="row"><div class="s6 group"><input type="range" min="0" max="31" id="left" onchange="save(this.id,this.value)" value="31"> <label>Left: <span id="leftSpan">0</span></label></div><div class="s6 group"><input type="range" min="0" max="31" id="right" onchange="save(this.id,this.value)" value="31"> <label>Right: <span id="rightSpan">0</span></label></div></div></div><div class="s12 m6 l4 of-l1 bor"><div class="s12 group"><input id="bass" type="range" min="0" max="15" onchange="save(this.id,this.value)" value="5"> <label>Bass: <span id="bassSpan">0</span></label></div><div class="s12 group"><input id="treble" type="range" min="0" max="15" onchange="save(this.id,this.value)" value="5"> <label>Treble: <span id="trebleSpan">0</span></label></div><div class="s12 group"><input id="subwoofer" type="range" min="0" max="31" onchange="save(this.id,this.value)" value="5"> <label>Subwoofer: <span id="subwooferSpan">0</span></label></div></div></div></div><script>var run,left,right;function send(e,n,t){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",function(){o.status<400?t&&t(o.responseText):t&&t(o.status)}),o.send(JSON.stringify(n))}function save(e,n){console.log(e+" : "+n),"mute"!==e&&(document.getElementById(e+"Span").innerHTML=n);var t={};t[e]=n,send("Defender_X55.lua",t,function(e){console.log(e)})}function getSettings(l){console.log(l);["bass","treble","left","right","subwoofer","volume","mute"].forEach(function(e,n,t){if(console.log(e+" : "+l[e]),"mute"===e){var o=document.getElementsByName(e);for(n=0;n<o.length;n++)console.log(o[n].value),console.log(o[n].value==l[e]),o[n].value==l[e]&&(o[n].checked="checked")}else document.getElementById(e).value=l[e],document.getElementById(e+"Span").innerHTML=l[e]})}function load(e,n,t){send("Defender_X55.init",{},function(e){var n;try{n=JSON.parse(e)}catch(e){return void console.log(e)}n.run?getSettings(n):run=confirm("The module is not started !!! run?")})}load()</script></body></html>
